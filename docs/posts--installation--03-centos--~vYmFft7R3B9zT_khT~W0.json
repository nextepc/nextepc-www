{"data":{"title":"CentOS","order":3,"page":"installation","_entry":"posts/installation/03-centos.md","name":"03-centos","category":"installation","date":"2019-10-10T21:30:06.826Z","url":"/installation/03-centos"},"content":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Verified on CentOS 7.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":22,"offset":22}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":22,"offset":22}}},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[],"position":{"start":{"line":4,"column":1,"offset":24},"end":{"line":4,"column":6,"offset":29}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Build","position":{"start":{"line":6,"column":4,"offset":34},"end":{"line":6,"column":9,"offset":39}}}],"position":{"start":{"line":6,"column":1,"offset":31},"end":{"line":6,"column":9,"offset":39}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section explains how to build NextEPC from the source codes.","position":{"start":{"line":8,"column":1,"offset":41},"end":{"line":8,"column":66,"offset":106}}}],"position":{"start":{"line":8,"column":1,"offset":41},"end":{"line":8,"column":66,"offset":106}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install MongoDB","position":{"start":{"line":11,"column":7,"offset":115},"end":{"line":11,"column":22,"offset":130}}}],"position":{"start":{"line":11,"column":3,"offset":111},"end":{"line":11,"column":22,"offset":130}}},{"type":"element","tagName":"a","properties":{"href":"https://www.mongodb.com"},"children":[{"type":"text","value":"MongoDB","position":{"start":{"line":12,"column":2,"offset":132},"end":{"line":12,"column":9,"offset":139}}}],"position":{"start":{"line":12,"column":1,"offset":131},"end":{"line":12,"column":35,"offset":165}}},{"type":"text","value":" is used for the database of NextEPC.\nPlease refer ","position":{"start":{"line":12,"column":35,"offset":165},"end":{"line":13,"column":14,"offset":216}}},{"type":"element","tagName":"a","properties":{"href":"https://docs.mongodb.com/manual/installation/"},"children":[{"type":"text","value":"Manual","position":{"start":{"line":13,"column":15,"offset":217},"end":{"line":13,"column":21,"offset":223}}}],"position":{"start":{"line":13,"column":14,"offset":216},"end":{"line":13,"column":69,"offset":271}}},{"type":"text","value":" for the installation:","position":{"start":{"line":13,"column":69,"offset":271},"end":{"line":13,"column":91,"offset":293}}}],"position":{"start":{"line":11,"column":1,"offset":109},"end":{"line":13,"column":91,"offset":293}}},{"type":"text","value":"\n"}],"position":{"start":{"line":11,"column":1,"offset":109},"end":{"line":13,"column":91,"offset":293}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sudo sh -c 'cat << EOF > /etc/yum.repos.d/mongodb-org-3.4.repo\n[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https://repo.mongodb.org/yum/redhat/\\$releasever/mongodb-org/3.4/x86_64/\ngpgcheck=1\nenabled=1\ngpgkey=https://www.mongodb.org/static/pgp/server-3.4.asc\nEOF'\n\nsudo yum -y install mongodb-org\nsudo systemctl start mongod (if '/usr/bin/mongod' is not running)\n"}],"position":{"start":{"line":14,"column":1,"offset":294},"end":{"line":26,"column":4,"offset":673}}}],"position":{"start":{"line":14,"column":1,"offset":294},"end":{"line":26,"column":4,"offset":673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install MongoDB C Driver","position":{"start":{"line":28,"column":7,"offset":681},"end":{"line":28,"column":31,"offset":705}}}],"position":{"start":{"line":28,"column":3,"offset":677},"end":{"line":28,"column":31,"offset":705}}},{"type":"element","tagName":"a","properties":{"href":"http://www.mongoc.org/libmongoc/current/index.html"},"children":[{"type":"text","value":"MongoDB C Driver","position":{"start":{"line":29,"column":2,"offset":707},"end":{"line":29,"column":18,"offset":723}}}],"position":{"start":{"line":29,"column":1,"offset":706},"end":{"line":29,"column":71,"offset":776}}},{"type":"text","value":" is a MongoDB client library. Please install the latest ","position":{"start":{"line":29,"column":71,"offset":776},"end":{"line":29,"column":127,"offset":832}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"libmongoc","position":{"start":{"line":29,"column":128,"offset":833},"end":{"line":29,"column":137,"offset":842}}}],"position":{"start":{"line":29,"column":127,"offset":832},"end":{"line":29,"column":138,"offset":843}}},{"type":"text","value":" following the instructions here: ","position":{"start":{"line":29,"column":138,"offset":843},"end":{"line":29,"column":172,"offset":877}}},{"type":"element","tagName":"a","properties":{"href":"http://www.mongoc.org/libmongoc/current/installing.html"},"children":[{"type":"text","value":"http://www.mongoc.org/libmongoc/current/installing.html","position":{"start":{"line":29,"column":173,"offset":878},"end":{"line":29,"column":228,"offset":933}}}],"position":{"start":{"line":29,"column":172,"offset":877},"end":{"line":29,"column":286,"offset":991}}},{"type":"text","value":". ","position":{"start":{"line":29,"column":286,"offset":991},"end":{"line":29,"column":288,"offset":993}}}],"position":{"start":{"line":28,"column":1,"offset":675},"end":{"line":29,"column":288,"offset":993}}},{"type":"text","value":"\n"}],"position":{"start":{"line":28,"column":1,"offset":675},"end":{"line":29,"column":288,"offset":993}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Define a TUN device","position":{"start":{"line":32,"column":7,"offset":1002},"end":{"line":32,"column":26,"offset":1021}}}],"position":{"start":{"line":32,"column":3,"offset":998},"end":{"line":32,"column":26,"offset":1021}}},{"type":"text","value":"Create ","position":{"start":{"line":33,"column":1,"offset":1022},"end":{"line":33,"column":8,"offset":1029}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"pgwtun","position":{"start":{"line":33,"column":9,"offset":1030},"end":{"line":33,"column":15,"offset":1036}}}],"position":{"start":{"line":33,"column":8,"offset":1029},"end":{"line":33,"column":16,"offset":1037}}},{"type":"text","value":":","position":{"start":{"line":33,"column":16,"offset":1037},"end":{"line":33,"column":17,"offset":1038}}}],"position":{"start":{"line":32,"column":1,"offset":996},"end":{"line":33,"column":17,"offset":1038}}},{"type":"text","value":"\n"}],"position":{"start":{"line":32,"column":1,"offset":996},"end":{"line":33,"column":17,"offset":1038}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo yum -y install iproute\nsudo ip tuntap add name pgwtun mode tun\nsudo ip addr add 45.45.0.1/16 dev pgwtun\nsudo ip addr add cafe::1/64 dev pgwtun\nsudo ip link set pgwtun up\n"}],"position":{"start":{"line":34,"column":1,"offset":1039},"end":{"line":40,"column":4,"offset":1221}}}],"position":{"start":{"line":34,"column":1,"offset":1039},"end":{"line":40,"column":4,"offset":1221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install dependencies","position":{"start":{"line":42,"column":7,"offset":1229},"end":{"line":42,"column":27,"offset":1249}}}],"position":{"start":{"line":42,"column":3,"offset":1225},"end":{"line":42,"column":27,"offset":1249}}},{"type":"text","value":"Install the following dependencies:","position":{"start":{"line":43,"column":1,"offset":1250},"end":{"line":43,"column":36,"offset":1285}}}],"position":{"start":{"line":42,"column":1,"offset":1223},"end":{"line":43,"column":36,"offset":1285}}},{"type":"text","value":"\n"}],"position":{"start":{"line":42,"column":1,"offset":1223},"end":{"line":43,"column":36,"offset":1285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sudo yum -y install git flex bison autoconf libtool \\\n         lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel \\\n         openssl-devel cyrus-sasl-devel libyaml-devel\n"}],"position":{"start":{"line":44,"column":1,"offset":1286},"end":{"line":48,"column":4,"offset":1477}}}],"position":{"start":{"line":44,"column":1,"offset":1286},"end":{"line":48,"column":4,"offset":1477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Build","position":{"start":{"line":50,"column":7,"offset":1485},"end":{"line":50,"column":12,"offset":1490}}}],"position":{"start":{"line":50,"column":3,"offset":1481},"end":{"line":50,"column":12,"offset":1490}}},{"type":"text","value":"Download and compile source codes, then will be installed to `pwd`/install/:","position":{"start":{"line":51,"column":1,"offset":1491},"end":{"line":51,"column":79,"offset":1569}}}],"position":{"start":{"line":50,"column":1,"offset":1479},"end":{"line":51,"column":79,"offset":1569}}},{"type":"text","value":"\n"}],"position":{"start":{"line":50,"column":1,"offset":1479},"end":{"line":51,"column":79,"offset":1569}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"git clone https://github.com/nextepc/nextepc\ncd nextepc\nautoreconf -iv\n./configure --prefix=`pwd`/install\nmake -j `nproc`\nmake install\n"}],"position":{"start":{"line":52,"column":1,"offset":1570},"end":{"line":59,"column":4,"offset":1716}}}],"position":{"start":{"line":52,"column":1,"offset":1570},"end":{"line":59,"column":4,"offset":1716}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Run","position":{"start":{"line":61,"column":7,"offset":1724},"end":{"line":61,"column":10,"offset":1727}}}],"position":{"start":{"line":61,"column":3,"offset":1720},"end":{"line":61,"column":10,"offset":1727}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-epcd","position":{"start":{"line":62,"column":2,"offset":1729},"end":{"line":62,"column":14,"offset":1741}}}],"position":{"start":{"line":62,"column":1,"offset":1728},"end":{"line":62,"column":15,"offset":1742}}},{"type":"text","value":" is the daemon lauching all necessary daemons automatically:","position":{"start":{"line":62,"column":15,"offset":1742},"end":{"line":62,"column":75,"offset":1802}}}],"position":{"start":{"line":61,"column":1,"offset":1718},"end":{"line":62,"column":75,"offset":1802}}},{"type":"text","value":"\n"}],"position":{"start":{"line":61,"column":1,"offset":1718},"end":{"line":62,"column":75,"offset":1802}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"nextepc-epcd\n"}],"position":{"start":{"line":63,"column":1,"offset":1803},"end":{"line":65,"column":4,"offset":1827}}}],"position":{"start":{"line":63,"column":1,"offset":1803},"end":{"line":65,"column":4,"offset":1827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install Node.js","position":{"start":{"line":67,"column":7,"offset":1835},"end":{"line":67,"column":22,"offset":1850}}}],"position":{"start":{"line":67,"column":3,"offset":1831},"end":{"line":67,"column":22,"offset":1850}}},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org"},"children":[{"type":"text","value":"Node.js","position":{"start":{"line":68,"column":2,"offset":1852},"end":{"line":68,"column":9,"offset":1859}}}],"position":{"start":{"line":68,"column":1,"offset":1851},"end":{"line":68,"column":30,"offset":1880}}},{"type":"text","value":" is required to install NextEPC WebUI:","position":{"start":{"line":68,"column":30,"offset":1880},"end":{"line":68,"column":68,"offset":1918}}}],"position":{"start":{"line":67,"column":1,"offset":1829},"end":{"line":68,"column":68,"offset":1918}}},{"type":"text","value":"\n"}],"position":{"start":{"line":67,"column":1,"offset":1829},"end":{"line":68,"column":68,"offset":1918}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"curl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -\nsudo yum -y install nodejs\n"}],"position":{"start":{"line":69,"column":1,"offset":1919},"end":{"line":72,"column":4,"offset":2034}}}],"position":{"start":{"line":69,"column":1,"offset":1919},"end":{"line":72,"column":4,"offset":2034}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Install the dependencies of WebUI","position":{"start":{"line":74,"column":7,"offset":2042},"end":{"line":74,"column":40,"offset":2075}}}],"position":{"start":{"line":74,"column":3,"offset":2038},"end":{"line":74,"column":40,"offset":2075}}},{"type":"text","value":"Goto the ","position":{"start":{"line":75,"column":1,"offset":2076},"end":{"line":75,"column":10,"offset":2085}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"TOP/webui"}],"position":{"start":{"line":75,"column":10,"offset":2085},"end":{"line":75,"column":21,"offset":2096}}},{"type":"text","value":" of NextEPC source. Install WebUI dependencies:","position":{"start":{"line":75,"column":21,"offset":2096},"end":{"line":75,"column":68,"offset":2143}}}],"position":{"start":{"line":74,"column":1,"offset":2036},"end":{"line":75,"column":68,"offset":2143}}},{"type":"text","value":"\n"}],"position":{"start":{"line":74,"column":1,"offset":2036},"end":{"line":75,"column":68,"offset":2143}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"cd webui\nnpm install\n"}],"position":{"start":{"line":76,"column":1,"offset":2144},"end":{"line":79,"column":4,"offset":2176}}}],"position":{"start":{"line":76,"column":1,"offset":2144},"end":{"line":79,"column":4,"offset":2176}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Run WebUI","position":{"start":{"line":81,"column":7,"offset":2184},"end":{"line":81,"column":16,"offset":2193}}}],"position":{"start":{"line":81,"column":3,"offset":2180},"end":{"line":81,"column":16,"offset":2193}}},{"type":"text","value":"Visit ","position":{"start":{"line":82,"column":1,"offset":2194},"end":{"line":82,"column":7,"offset":2200}}},{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000"},"children":[{"type":"text","value":"http://localhost:3000","position":{"start":{"line":82,"column":8,"offset":2201},"end":{"line":82,"column":29,"offset":2222}}}],"position":{"start":{"line":82,"column":7,"offset":2200},"end":{"line":82,"column":53,"offset":2246}}},{"type":"text","value":", after run the command:","position":{"start":{"line":82,"column":53,"offset":2246},"end":{"line":82,"column":77,"offset":2270}}}],"position":{"start":{"line":81,"column":1,"offset":2178},"end":{"line":82,"column":77,"offset":2270}}},{"type":"text","value":"\n"}],"position":{"start":{"line":81,"column":1,"offset":2178},"end":{"line":82,"column":77,"offset":2270}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"npm run dev\n"}],"position":{"start":{"line":83,"column":1,"offset":2271},"end":{"line":85,"column":4,"offset":2294}}}],"position":{"start":{"line":83,"column":1,"offset":2271},"end":{"line":85,"column":4,"offset":2294}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next step: ","position":{"start":{"line":87,"column":3,"offset":2298},"end":{"line":87,"column":14,"offset":2309}}},{"type":"element","tagName":"a","properties":{"href":"/configuration"},"children":[{"type":"text","value":"Configuration","position":{"start":{"line":87,"column":15,"offset":2310},"end":{"line":87,"column":28,"offset":2323}}}],"position":{"start":{"line":87,"column":14,"offset":2309},"end":{"line":87,"column":45,"offset":2340}}}],"position":{"start":{"line":87,"column":3,"offset":2298},"end":{"line":87,"column":45,"offset":2340}}},{"type":"text","value":"\n"}],"position":{"start":{"line":87,"column":1,"offset":2296},"end":{"line":87,"column":45,"offset":2340}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"\nVerified on CentOS 7.\n\n<br/>\n\n## Build\n\nThis section explains how to build NextEPC from the source codes.\n\n\n* ### Install MongoDB\n[MongoDB](https://www.mongodb.com) is used for the database of NextEPC.\nPlease refer [Manual](https://docs.mongodb.com/manual/installation/) for the installation:\n```bash\nsudo sh -c 'cat << EOF > /etc/yum.repos.d/mongodb-org-3.4.repo\n[mongodb-org-3.4]\nname=MongoDB Repository\nbaseurl=https://repo.mongodb.org/yum/redhat/\\$releasever/mongodb-org/3.4/x86_64/\ngpgcheck=1\nenabled=1\ngpgkey=https://www.mongodb.org/static/pgp/server-3.4.asc\nEOF'\n\nsudo yum -y install mongodb-org\nsudo systemctl start mongod (if '/usr/bin/mongod' is not running)\n```\n\n* ### Install MongoDB C Driver\n[MongoDB C Driver](http://www.mongoc.org/libmongoc/current/index.html) is a MongoDB client library. Please install the latest *libmongoc* following the instructions here: [http://www.mongoc.org/libmongoc/current/installing.html](http://www.mongoc.org/libmongoc/current/installing.html). \n\n\n* ### Define a TUN device\nCreate *pgwtun*:\n```\nsudo yum -y install iproute\nsudo ip tuntap add name pgwtun mode tun\nsudo ip addr add 45.45.0.1/16 dev pgwtun\nsudo ip addr add cafe::1/64 dev pgwtun\nsudo ip link set pgwtun up\n```\n\n* ### Install dependencies\nInstall the following dependencies:\n```bash\nsudo yum -y install git flex bison autoconf libtool \\\n         lksctp-tools-devel libidn-devel gnutls-devel libgcrypt-devel \\\n         openssl-devel cyrus-sasl-devel libyaml-devel\n```\n\n* ### Build\nDownload and compile source codes, then will be installed to \\`pwd\\`/install/:\n```bash\ngit clone https://github.com/nextepc/nextepc\ncd nextepc\nautoreconf -iv\n./configure --prefix=`pwd`/install\nmake -j `nproc`\nmake install\n```\n\n* ### Run\n*nextepc-epcd* is the daemon lauching all necessary daemons automatically:\n```bash\nnextepc-epcd\n```\n\n* ### Install Node.js\n[Node.js](https://nodejs.org) is required to install NextEPC WebUI:\n```bash\ncurl --silent --location https://rpm.nodesource.com/setup_10.x | sudo bash -\nsudo yum -y install nodejs\n```\n\n* ### Install the dependencies of WebUI\nGoto the `TOP/webui` of NextEPC source. Install WebUI dependencies:\n```bash\ncd webui\nnpm install\n```\n\n* ### Run WebUI\nVisit [http://localhost:3000](http://localhost:3000), after run the command:\n```bash\nnpm run dev\n```\n\n> Next step: [Configuration](/configuration)\n"}