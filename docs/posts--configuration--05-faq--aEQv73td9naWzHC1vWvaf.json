{"data":{"title":"FAQ","order":5,"page":"configuration","_entry":"posts/configuration/05-faq.md","name":"05-faq","category":"configuration","date":"2021-05-06T19:59:14.905Z","url":"/configuration/05-faq"},"content":{"type":"root","children":[{"type":"element","tagName":"br","properties":{},"children":[],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":6,"offset":6}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Manage NextEPC daemons (Ubuntu package)","position":{"start":{"line":4,"column":6,"offset":13},"end":{"line":4,"column":45,"offset":52}}}],"position":{"start":{"line":4,"column":3,"offset":10},"end":{"line":4,"column":45,"offset":52}}},{"type":"text","value":"The NextEPC service is registered in ","position":{"start":{"line":5,"column":1,"offset":53},"end":{"line":5,"column":38,"offset":90}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"systemd"}],"position":{"start":{"line":5,"column":38,"offset":90},"end":{"line":5,"column":47,"offset":99}}},{"type":"text","value":" environment, and is started automatically after its installation. The service names are ","position":{"start":{"line":5,"column":47,"offset":99},"end":{"line":5,"column":136,"offset":188}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-mmed","position":{"start":{"line":5,"column":137,"offset":189},"end":{"line":5,"column":149,"offset":201}}}],"position":{"start":{"line":5,"column":136,"offset":188},"end":{"line":5,"column":150,"offset":202}}},{"type":"text","value":", ","position":{"start":{"line":5,"column":150,"offset":202},"end":{"line":5,"column":152,"offset":204}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-sgwd","position":{"start":{"line":5,"column":153,"offset":205},"end":{"line":5,"column":165,"offset":217}}}],"position":{"start":{"line":5,"column":152,"offset":204},"end":{"line":5,"column":166,"offset":218}}},{"type":"text","value":", ","position":{"start":{"line":5,"column":166,"offset":218},"end":{"line":5,"column":168,"offset":220}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-pgwd","position":{"start":{"line":5,"column":169,"offset":221},"end":{"line":5,"column":181,"offset":233}}}],"position":{"start":{"line":5,"column":168,"offset":220},"end":{"line":5,"column":182,"offset":234}}},{"type":"text","value":", ","position":{"start":{"line":5,"column":182,"offset":234},"end":{"line":5,"column":184,"offset":236}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-hssd","position":{"start":{"line":5,"column":185,"offset":237},"end":{"line":5,"column":197,"offset":249}}}],"position":{"start":{"line":5,"column":184,"offset":236},"end":{"line":5,"column":198,"offset":250}}},{"type":"text","value":", and ","position":{"start":{"line":5,"column":198,"offset":250},"end":{"line":5,"column":204,"offset":256}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-pcrfd","position":{"start":{"line":5,"column":205,"offset":257},"end":{"line":5,"column":218,"offset":270}}}],"position":{"start":{"line":5,"column":204,"offset":256},"end":{"line":5,"column":219,"offset":271}}},{"type":"text","value":". You can use the ","position":{"start":{"line":5,"column":219,"offset":271},"end":{"line":5,"column":237,"offset":289}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"systemctl"}],"position":{"start":{"line":5,"column":237,"offset":289},"end":{"line":5,"column":248,"offset":300}}},{"type":"text","value":" command to control specific services.","position":{"start":{"line":5,"column":248,"offset":300},"end":{"line":5,"column":286,"offset":338}}}],"position":{"start":{"line":4,"column":1,"offset":8},"end":{"line":5,"column":286,"offset":338}}},{"type":"text","value":"\n"}],"position":{"start":{"line":4,"column":1,"offset":8},"end":{"line":5,"column":286,"offset":338}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sudo systemctl status nextepc-mmed (Check the service status)\nsudo systemctl stop nextepc-mmed (Stop the service)\nsudo systemctl disable nextepc-mmed (Will not be started after rebooting)\nsudo systemctl enable nextepc-mmed (Will be started after rebooting)\nsudo systemctl start nextepc-mmed (Start the service)\nsudo systemctl restart nextepc-mmed (Stop and start)\n"}],"position":{"start":{"line":6,"column":1,"offset":339},"end":{"line":13,"column":4,"offset":714}}}],"position":{"start":{"line":6,"column":1,"offset":339},"end":{"line":13,"column":4,"offset":714}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"MongoDB URI","position":{"start":{"line":16,"column":6,"offset":722},"end":{"line":16,"column":17,"offset":733}}}],"position":{"start":{"line":16,"column":3,"offset":719},"end":{"line":16,"column":17,"offset":733}}},{"type":"text","value":"The LTE UE information of NextEPC is stored and maintained by ","position":{"start":{"line":17,"column":1,"offset":734},"end":{"line":17,"column":63,"offset":796}}},{"type":"element","tagName":"a","properties":{"href":"https://www.mongodb.com/"},"children":[{"type":"text","value":"Mongo DB","position":{"start":{"line":17,"column":64,"offset":797},"end":{"line":17,"column":72,"offset":805}}}],"position":{"start":{"line":17,"column":63,"offset":796},"end":{"line":17,"column":99,"offset":832}}},{"type":"text","value":". To manage the subscriber information, ","position":{"start":{"line":17,"column":99,"offset":832},"end":{"line":17,"column":139,"offset":872}}},{"type":"element","tagName":"a","properties":{"href":"https://docs.mongodb.com/ecosystem/tools/"},"children":[{"type":"text","value":"Mongo DB client","position":{"start":{"line":17,"column":140,"offset":873},"end":{"line":17,"column":155,"offset":888}}}],"position":{"start":{"line":17,"column":139,"offset":872},"end":{"line":17,"column":199,"offset":932}}},{"type":"text","value":" is required. The default DB URI is [","position":{"start":{"line":17,"column":199,"offset":932},"end":null}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"mongodb://localhost/nextepc","position":{"start":{"line":17,"column":237,"offset":970},"end":{"line":17,"column":264,"offset":997}}}],"position":{"start":{"line":17,"column":236,"offset":969},"end":{"line":17,"column":265,"offset":998}}},{"type":"text","value":"]. ","position":{"start":null,"end":{"line":17,"column":268,"offset":1001}}}],"position":{"start":{"line":16,"column":1,"offset":717},"end":{"line":17,"column":268,"offset":1001}}},{"type":"text","value":"\n"}],"position":{"start":{"line":16,"column":1,"offset":717},"end":{"line":17,"column":268,"offset":1001}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"NextEPC Web service","position":{"start":{"line":20,"column":6,"offset":1009},"end":{"line":20,"column":25,"offset":1028}}}],"position":{"start":{"line":20,"column":3,"offset":1006},"end":{"line":20,"column":25,"offset":1028}}},{"type":"text","value":"NextEPC provides an alternative management interface for customers to manage their subscriber information in an easy way. The service name is ","position":{"start":{"line":21,"column":1,"offset":1029},"end":{"line":21,"column":143,"offset":1171}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"nextepc-webui","position":{"start":{"line":21,"column":144,"offset":1172},"end":{"line":21,"column":157,"offset":1185}}}],"position":{"start":{"line":21,"column":143,"offset":1171},"end":{"line":21,"column":158,"offset":1186}}},{"type":"text","value":", and it will show a web page on ","position":{"start":{"line":21,"column":158,"offset":1186},"end":{"line":21,"column":191,"offset":1219}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://localhost:3000"},"children":[{"type":"text","value":"http://localhost:3000","position":{"start":{"line":21,"column":192,"offset":1220},"end":{"line":21,"column":213,"offset":1241}}}],"position":{"start":{"line":21,"column":192,"offset":1220},"end":{"line":21,"column":213,"offset":1241}}}],"position":{"start":{"line":21,"column":191,"offset":1219},"end":{"line":21,"column":214,"offset":1242}}},{"type":"text","value":". The default account information is shown here: ","position":{"start":{"line":21,"column":214,"offset":1242},"end":{"line":21,"column":263,"offset":1291}}},{"type":"element","tagName":"a","properties":{"href":"/configuration/04-ue"},"children":[{"type":"text","value":"Adding a UE","position":{"start":{"line":21,"column":264,"offset":1292},"end":{"line":21,"column":275,"offset":1303}}}],"position":{"start":{"line":21,"column":263,"offset":1291},"end":{"line":21,"column":298,"offset":1326}}},{"type":"text","value":".","position":{"start":{"line":21,"column":298,"offset":1326},"end":{"line":21,"column":299,"offset":1327}}}],"position":{"start":{"line":20,"column":1,"offset":1004},"end":{"line":21,"column":299,"offset":1327}}},{"type":"text","value":"\n"}],"position":{"start":{"line":20,"column":1,"offset":1004},"end":{"line":21,"column":299,"offset":1327}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Issue on TUN","position":{"start":{"line":24,"column":6,"offset":1335},"end":{"line":24,"column":18,"offset":1347}}}],"position":{"start":{"line":24,"column":3,"offset":1332},"end":{"line":24,"column":18,"offset":1347}}},{"type":"text","value":"To run NextEPC with least privilege, TUN device permission should be a ","position":{"start":{"line":25,"column":1,"offset":1348},"end":{"line":25,"column":72,"offset":1419}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"crw-rw-rw-"}],"position":{"start":{"line":25,"column":72,"offset":1419},"end":{"line":25,"column":84,"offset":1431}}},{"type":"text","value":"(666). Otherwise, you need to run NextEPC daemons with root privilege. If the permission is not ","position":{"start":{"line":25,"column":84,"offset":1431},"end":{"line":25,"column":180,"offset":1527}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"crw-rw-rw-"}],"position":{"start":{"line":25,"column":180,"offset":1527},"end":{"line":25,"column":192,"offset":1539}}},{"type":"text","value":"(666), then install ","position":{"start":{"line":25,"column":192,"offset":1539},"end":{"line":25,"column":212,"offset":1559}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"udev"}],"position":{"start":{"line":25,"column":212,"offset":1559},"end":{"line":25,"column":218,"offset":1565}}},{"type":"text","value":" package.  If the permission is still not changed after installing ","position":{"start":{"line":25,"column":218,"offset":1565},"end":{"line":25,"column":285,"offset":1632}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"udev"}],"position":{"start":{"line":25,"column":285,"offset":1632},"end":{"line":25,"column":291,"offset":1638}}},{"type":"text","value":", run NextEPC with root privileges.","position":{"start":{"line":25,"column":291,"offset":1638},"end":{"line":25,"column":326,"offset":1673}}}],"position":{"start":{"line":24,"column":1,"offset":1330},"end":{"line":25,"column":326,"offset":1673}}},{"type":"text","value":"\n"}],"position":{"start":{"line":24,"column":1,"offset":1330},"end":{"line":25,"column":326,"offset":1673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"ls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo apt-get install udev /* Ubuntu */\nsudo dnf -y install udev /* Fedora */\nsudo systemctl start systemd-udevd\n"}],"position":{"start":{"line":26,"column":1,"offset":1674},"end":{"line":32,"column":4,"offset":1872}}}],"position":{"start":{"line":26,"column":1,"offset":1674},"end":{"line":32,"column":4,"offset":1872}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Disabling IPv6","position":{"start":{"line":34,"column":6,"offset":1879},"end":{"line":34,"column":20,"offset":1893}}}],"position":{"start":{"line":34,"column":3,"offset":1876},"end":{"line":34,"column":20,"offset":1893}}},{"type":"text","value":"IPv6 can be disabled as followgs:","position":{"start":{"line":35,"column":1,"offset":1894},"end":{"line":35,"column":34,"offset":1927}}}],"position":{"start":{"line":34,"column":1,"offset":1874},"end":{"line":35,"column":34,"offset":1927}}},{"type":"text","value":"\n"}],"position":{"start":{"line":34,"column":1,"offset":1874},"end":{"line":35,"column":34,"offset":1927}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' > /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n\nsudo sh -c \"cat << EOF > /etc/systemd/network/99-nextepc.network\n[Match]\nName=pgwtun\n[Network]\nAddress=45.45.0.1/16\nEOF\"\n"}],"position":{"start":{"line":36,"column":1,"offset":1928},"end":{"line":49,"column":4,"offset":2301}}}],"position":{"start":{"line":36,"column":1,"offset":1928},"end":{"line":49,"column":4,"offset":2301}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Masquerading on macOS","position":{"start":{"line":51,"column":6,"offset":2308},"end":{"line":51,"column":27,"offset":2329}}}],"position":{"start":{"line":51,"column":3,"offset":2305},"end":{"line":51,"column":27,"offset":2329}}}],"position":{"start":{"line":51,"column":1,"offset":2303},"end":{"line":51,"column":27,"offset":2329}}},{"type":"text","value":"\n"}],"position":{"start":{"line":51,"column":1,"offset":2303},"end":{"line":51,"column":27,"offset":2329}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sudo sysctl -w net.inet.ip.forwarding=1\nsudo sh -c \"echo 'nat on {en0} from 45.45.0.0/16 to any -> {en0}' > /etc/pf.anchors/org.nextepc\"\nsudo pfctl -e -f /etc/pf.anchors/org.nextepc\n"}],"position":{"start":{"line":52,"column":1,"offset":2330},"end":{"line":56,"column":4,"offset":2523}}}],"position":{"start":{"line":52,"column":1,"offset":2330},"end":{"line":56,"column":4,"offset":2523}}},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[],"position":{"start":{"line":58,"column":1,"offset":2525},"end":{"line":58,"column":6,"offset":2530}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Serivce and Support: ","position":{"start":{"line":60,"column":3,"offset":2534},"end":{"line":60,"column":24,"offset":2555}}},{"type":"element","tagName":"a","properties":{"href":"https://nextepc.com"},"children":[{"type":"text","value":"NextEPC Inc.","position":{"start":{"line":60,"column":25,"offset":2556},"end":{"line":60,"column":37,"offset":2568}}}],"position":{"start":{"line":60,"column":24,"offset":2555},"end":{"line":60,"column":59,"offset":2590}}}],"position":{"start":{"line":60,"column":3,"offset":2534},"end":{"line":60,"column":59,"offset":2590}}},{"type":"text","value":"\n"}],"position":{"start":{"line":60,"column":1,"offset":2532},"end":{"line":60,"column":59,"offset":2590}}}],"data":{"quirksMode":false},"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}},"raw":"\n<br/>\n\n* ## Manage NextEPC daemons (Ubuntu package)\nThe NextEPC service is registered in `systemd` environment, and is started automatically after its installation. The service names are *nextepc-mmed*, *nextepc-sgwd*, *nextepc-pgwd*, *nextepc-hssd*, and *nextepc-pcrfd*. You can use the `systemctl` command to control specific services.\n```bash\nsudo systemctl status nextepc-mmed (Check the service status)\nsudo systemctl stop nextepc-mmed (Stop the service)\nsudo systemctl disable nextepc-mmed (Will not be started after rebooting)\nsudo systemctl enable nextepc-mmed (Will be started after rebooting)\nsudo systemctl start nextepc-mmed (Start the service)\nsudo systemctl restart nextepc-mmed (Stop and start)\n```\n\n\n* ## MongoDB URI\nThe LTE UE information of NextEPC is stored and maintained by [Mongo DB](https://www.mongodb.com/). To manage the subscriber information, [Mongo DB client](https://docs.mongodb.com/ecosystem/tools/) is required. The default DB URI is [_mongodb://localhost/nextepc_]. \n\n\n* ## NextEPC Web service\nNextEPC provides an alternative management interface for customers to manage their subscriber information in an easy way. The service name is *nextepc-webui*, and it will show a web page on _http://localhost:3000_. The default account information is shown here: [Adding a UE](/configuration/04-ue).\n\n\n* ## Issue on TUN\nTo run NextEPC with least privilege, TUN device permission should be a `crw-rw-rw-`(666). Otherwise, you need to run NextEPC daemons with root privilege. If the permission is not `crw-rw-rw-`(666), then install `udev` package.  If the permission is still not changed after installing `udev`, run NextEPC with root privileges.\n```bash\nls -al /dev/net/tun\ncrw-rw---- 1 root 28 10, 200 Feb 11 05:13 /dev/net/tun\nsudo apt-get install udev /* Ubuntu */\nsudo dnf -y install udev /* Fedora */\nsudo systemctl start systemd-udevd\n```\n\n* ## Disabling IPv6\nIPv6 can be disabled as followgs:\n```bash\nsysctl -n net.ipv6.conf.pgwtun.disable_ipv6\n\n(if the output is 0 and IPv6 is enabled, skip the followings)\nsudo sh -c \"echo 'net.ipv6.conf.pgwtun.disable_ipv6=0' > /etc/sysctl.d/30-nextepc.conf\"\nsudo sysctl -p /etc/sysctl.d/30-nextepc.conf\n\nsudo sh -c \"cat << EOF > /etc/systemd/network/99-nextepc.network\n[Match]\nName=pgwtun\n[Network]\nAddress=45.45.0.1/16\nEOF\"\n```\n\n* ## Masquerading on macOS\n```bash\nsudo sysctl -w net.inet.ip.forwarding=1\nsudo sh -c \"echo 'nat on {en0} from 45.45.0.0/16 to any -> {en0}' > /etc/pf.anchors/org.nextepc\"\nsudo pfctl -e -f /etc/pf.anchors/org.nextepc\n```\n\n<br/>\n\n> Serivce and Support: [NextEPC Inc.](https://nextepc.com)\n"}